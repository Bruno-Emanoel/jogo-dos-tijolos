(()=>{"use strict";let t=!1,e=!1;const n=50,i=20;let o=0,h=0,c=2;const l=10;let r=0,f=0,a=.75,d=-.75;const u=()=>{d*=-1},g=()=>{a*=-1};const s=[];function y(t,e){const n=e+2,i=t.width/n,o=5*i/100,h=92.5*i/100,c=t.height/10,l=Math.ceil(e/2)+2,r=Math.min(50,30),f=t.width*r/100,a=4*f/100+c,d=16*f/100;for(let t=1;t<=l;t++)for(let e=1;e<=n;e++)s.push({x:(o+h)*e-h,y:(a+d)*t-d,width:h,height:d})}function w(w,x,k,m,S,v,D){return x.clearRect(0,0,w.width,w.height),function(t,e,n,i,o,h){let c=0;const w=r+a,x=f+d;for(let a of s){if(w-l<a.x+a.width&&w+l>a.x&&x-l<a.y+a.height&&x+l>a.y){const d=r-l<=a.x+a.width,w=r+l>=a.x,x=f-l<=a.y+a.width,m=f+l>=a.y,S=r>a.x&&r<a.x+a.width,v=f>a.y&&f<a.y+a.height;S&&(m||x)?u():v&&(d||w)?g():u(),k=c,s.splice(k,1),0===s.length&&(o(),y(t,e)),h(),n>i&&localStorage.setItem("highestScore",`${n}`);break}c++}var k}(w,k,m,S,v,D),function(l,r){!function(t){t.beginPath(),t.rect(o,h-i/2,n,i),t.fillStyle="#0095DD",t.fill(),t.closePath()}(r),function(i){t&&(o-=o>0?c:0),e&&(o+=o<i.width-n?c:0)}(l)}(w,x),function(t){s.forEach(function(t){return e=>{t.beginPath(),t.rect(e.x,e.y,e.width,e.height),t.fillStyle="#0095DD",t.fill(),t.closePath()}}(t))}(x),function(t,e,n,i,o){e.font="16px Arial",e.fillStyle="#0095DD",e.fillText(`Round: ${n}`,8,20),e.fillText(`Score: ${i}`,2*t.width/5,20),e.fillText(`Maior score: ${o}`,2*t.width/3,20)}(w,x,k,m,S),function(t,e){return function(t){t.beginPath(),t.arc(r,f,10,0,2*Math.PI),t.fillStyle="#0095DD",t.fill(),t.closePath()}(e),function(t){return f+d>t.height-l-i&&d>0&&r+a>o-l&&r+a<o+n+l&&(d=-d),!(f+d>t.height-l||((r+a>t.width-l||r+a<l)&&(a=-a),f+d<l&&(d=-d),r+=a,f+=d,0))}(t)}(w,x)}let x,k=1,m=0,S=parseInt(localStorage.getItem("highestScore")||"0");const v=()=>k++,D=()=>m++;const E=document.getElementById("myCanvas"),I=E.getContext("2d");var L;!function(t){!function(t){r=t.width/2,f=t.height-30}(t),function(t){o=t.width/2-9,h=t.height-6}(t),y(t,1)}(E),(L=document).addEventListener("keydown",(function(n){"Left"!==n.key&&"ArrowLeft"!==n.key||(t=!0),"Right"!==n.key&&"ArrowRight"!==n.key||(e=!0)})),L.addEventListener("keyup",(function(n){"Left"!==n.key&&"ArrowLeft"!==n.key||(t=!1),"Right"!==n.key&&"ArrowRight"!==n.key||(e=!1)})),document.getElementById("runButton").addEventListener("click",(t=>{(function(t,e,n){x=setInterval((()=>{w(e,n,k,m,S,v,D)||function(t){alert("GAME OVER"),t.location.reload(),clearInterval(x)}(t)}),5)})(document,E,I),t.target.disabled=!0}))})();